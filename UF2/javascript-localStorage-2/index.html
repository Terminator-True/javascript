<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Títols de Pel·licules</h1>
    <form action="index.html" method="post">
        <input type="text" name="titol" id="titol">
        <input onclick="Inp()" type="submit" value="Desar">
        <input onclick="el()" type="submit" value="Borrar">
    </form>
    <h3>Pelicules afegides</h3>
    <ul id="llista">
    </ul>
</body>

<script>
    function el() {
        localStorage.clear()
    }
    function Inp() {
        var titols=[];
        //compatibilitat cercador
        if (typeof(Storage) !== "undefined"){
            console.log("Local Storage disponible");
            //obtener el input
            var valor = document.getElementById("titol").value
            //Guardem
            localStorage.setItem(valor,valor);
            //Print
            var node = document.createElement("LI");                 
            var textnode = document.createTextNode(localStorage.getItem(valor));        
            node.appendChild(textnode);                              
            document.getElementById("llista").appendChild(node);     
        }else{
            document.getElementById("llista").innerHTML = "Sorry, your browser does not support Web Storage...";
        }
    }
    function persist(thisArg) {
        localStorage.setItem(thisArg.id, thisArg.value);
    }
    </script>
</html>